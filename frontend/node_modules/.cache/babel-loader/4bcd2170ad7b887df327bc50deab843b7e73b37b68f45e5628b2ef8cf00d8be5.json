{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aluno\\\\harmoCrew\\\\frontend\\\\src\\\\components\\\\UserProfile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport styles from '../styles/ProfilePage.module.css';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport \"../styles/global.css\";\nimport \"../styles/colors.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MusicIcon = () => /*#__PURE__*/_jsxDEV(\"span\", {\n  style: {\n    marginRight: '8px'\n  },\n  children: \"\\uD83C\\uDFB5\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 7,\n  columnNumber: 25\n}, this);\n_c = MusicIcon;\nconst PeopleIcon = () => /*#__PURE__*/_jsxDEV(\"span\", {\n  style: {\n    marginRight: '8px'\n  },\n  children: \"\\uD83D\\uDC65\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 8,\n  columnNumber: 26\n}, this);\n_c2 = PeopleIcon;\nexport default function UserProfile() {\n  _s();\n  const {\n    id: profileIdFromParams\n  } = useParams();\n  const [profileUser, setProfileUser] = useState(null);\n  const [projects, setProjects] = useState([]);\n  const [friends, setFriends] = useState([]);\n  const [activeTab, setActiveTab] = useState('projetos');\n  const [loggedUserId, setLoggedUserId] = useState(null);\n  const [isFollowing, setIsFollowing] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      return;\n    }\n    fetch('http://localhost:5000/profile', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      if (!res.ok && res.status === 401) {\n        localStorage.removeItem('token');\n        return null;\n      }\n      return res.json();\n    }).then(data => {\n      if (data && data.user) {\n        setLoggedUserId(data.user.id);\n      }\n    }).catch(err => console.error(\"Erro ao buscar usuário logado:\", err));\n  }, [navigate]);\n  const fetchProfileAndFollowingStatus = useCallback(async () => {\n    if (!profileIdFromParams) return;\n    setLoading(true);\n    const token = localStorage.getItem('token');\n    try {\n      const headers = {};\n      if (token) {\n        headers['Authorization'] = `Bearer ${token}`;\n      }\n      const res = await fetch(`http://localhost:5000/user/${profileIdFromParams}`, {\n        headers\n      });\n      if (!res.ok) {\n        throw new Error(`Falha ao buscar perfil do usuário (status ${res.status})`);\n      }\n      const data = await res.json();\n      if (data.user) {\n        setProfileUser(data.user);\n        if (typeof data.user.is_following !== 'undefined') {\n          setIsFollowing(data.user.is_following);\n        }\n      } else {\n        setProfileUser(null);\n      }\n    } catch (err) {\n      console.error(\"Erro ao buscar dados do perfil:\", err);\n      setProfileUser(null);\n    } finally {\n      setLoading(false);\n    }\n  }, [profileIdFromParams, loggedUserId]);\n  const fetchProjects = useCallback(async () => {\n    if (!profileUser) return;\n    const token = localStorage.getItem('token');\n    const headers = {};\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n    try {\n      const res = await fetch(`http://localhost:5000/user/${profileUser.id}/posts`, {\n        headers\n      });\n      if (res.ok) {\n        const dataPosts = await res.json();\n        setProjects(dataPosts.posts || []);\n      } else {\n        console.error(\"Falha ao buscar projetos do usuário\");\n        setProjects([]);\n      }\n    } catch (error) {\n      console.error(\"Erro de conexão ao buscar projetos:\", error);\n      setProjects([]);\n    }\n  }, [profileUser]);\n  const fetchFriendsAndCheckFollowing = useCallback(async () => {\n    const token = localStorage.getItem('token');\n    if (!token || !profileUser || !loggedUserId) {\n      if (profileUser) {\n        try {\n          const res = await fetch(`http://localhost:5000/user/${profileUser.id}/followers`);\n          if (res.ok) {\n            const data = await res.json();\n            setFriends(data.followers || []);\n          } else {\n            setFriends([]);\n          }\n        } catch (e) {\n          console.error(\"Erro ao buscar amigos (sem token):\", e);\n          setFriends([]);\n        }\n      }\n      return;\n    }\n    try {\n      const res = await fetch(`http://localhost:5000/user/${profileUser.id}/followers`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (res.ok) {\n        const data = await res.json();\n        setFriends(data.followers || []);\n        if (profileUser && loggedUserId && data.followers) {\n          if (typeof profileUser.is_following === 'undefined') {\n            const isNowFollowing = data.followers.some(f => f.id === loggedUserId);\n            setIsFollowing(isNowFollowing);\n          }\n        }\n      } else {\n        setFriends([]);\n      }\n    } catch (err) {\n      console.error(\"Erro ao buscar amigos:\", err);\n      setFriends([]);\n    }\n  }, [profileUser, loggedUserId]);\n  useEffect(() => {\n    fetchProfileAndFollowingStatus();\n  }, [fetchProfileAndFollowingStatus]);\n  useEffect(() => {\n    if (profileUser) {\n      fetchProjects();\n      fetchFriendsAndCheckFollowing();\n    }\n  }, [profileUser, fetchProjects, fetchFriendsAndCheckFollowing]);\n  const handleFollow = async () => {\n    const token = localStorage.getItem('token');\n    if (!token || !profileUser || profileUser.id === loggedUserId) {\n      alert(\"Você precisa estar logado para seguir usuários.\");\n      return;\n    }\n    const action = isFollowing ? 'unfollow' : 'follow';\n    try {\n      const res = await fetch(`http://localhost:5000/${action}/${profileUser.id}`, {\n        method: 'POST',\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await res.json();\n      if (res.ok) {\n        alert(data.message || `Operação de ${action} bem-sucedida!`);\n        setIsFollowing(!isFollowing);\n        fetchFriendsAndCheckFollowing();\n      } else {\n        alert(data.message || `Erro ao ${action}.`);\n      }\n    } catch (err) {\n      console.error(`Erro ao tentar ${action}:`, err);\n      alert(`Erro de conexão ao tentar ${action}.`);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: styles.loading,\n    children: \"Carregando perfil...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 23\n  }, this);\n  if (!profileUser) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: styles.loading,\n    children: [\"Perfil n\\xE3o encontrado. \", /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/home\",\n      children: \"Voltar para Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 81\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 28\n  }, this);\n  const isOwnProfile = loggedUserId === profileUser.id;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.profilePageContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      className: styles.profileSidebar,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: styles.profileUserPhoto,\n        src: profileUser.profile_pic_url || `https://i.pravatar.cc/150?u=${profileUser.id}`,\n        alt: `Foto de ${profileUser.nome}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: styles.profileUserName,\n        children: profileUser.nome\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), profileUser.email && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.profileUserEmail,\n        children: profileUser.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 31\n      }, this), !isOwnProfile && loggedUserId && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `${styles.profileActionButton} ${isFollowing ? styles.unfollowButton : styles.followButton}`,\n        onClick: handleFollow,\n        children: isFollowing ? 'Deixar de Seguir' : 'Seguir'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }, this), profileUser.descricao && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.profileSection,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: styles.sectionTitle,\n          children: \"Descri\\xE7\\xE3o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.profileDescriptionText,\n          children: profileUser.descricao\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }, this), profileUser.links_sociais && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.profileSection,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: styles.sectionTitle,\n          children: \"Redes Sociais / Streaming\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: styles.socialLinksList,\n          children: profileUser.links_sociais.split(',').map((link, index) => link.trim() && /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: !link.startsWith('http') ? `https://${link.trim()}` : link.trim(),\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: link.trim().replace(/^https?:\\/\\//, '')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 29\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: styles.profileContentArea,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.profileTabs,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `${styles.tabButton} ${activeTab === 'projetos' ? styles.activeTabButton : ''}`,\n          onClick: () => setActiveTab('projetos'),\n          children: [/*#__PURE__*/_jsxDEV(MusicIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), \" Projetos \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.tabCount,\n            children: [\"(\", projects.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `${styles.tabButton} ${activeTab === 'amigos' ? styles.activeTabButton : ''}`,\n          onClick: () => setActiveTab('amigos'),\n          children: [/*#__PURE__*/_jsxDEV(PeopleIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), \" Seguidores \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.tabCount,\n            children: [\"(\", friends.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 39\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.tabContent,\n        children: [activeTab === 'projetos' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.postsGrid,\n          children: projects.length > 0 ? projects.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.postCard,\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/post/${post.id}`,\n              className: styles.postCardLinkWrapper,\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: styles.postCardTitle,\n                children: post.titulo || \"Projeto sem título\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: styles.postCardDescription,\n                children: post.texto ? post.texto.substring(0, 100) + (post.texto.length > 100 ? '...' : '') : post.descricao || \"Sem descrição.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 19\n            }, this), post.audio_url && /*#__PURE__*/_jsxDEV(\"audio\", {\n              controls: true,\n              src: post.audio_url,\n              className: styles.postCardAudioPlayer,\n              children: \"Seu navegador n\\xE3o suporta o elemento de \\xE1udio.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: styles.postCardDate,\n              children: new Date(post.created_at || post.data_criacao || post.data || Date.now()).toLocaleDateString('pt-BR')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 19\n            }, this)]\n          }, post.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.emptyTabText,\n            children: \"Este usu\\xE1rio ainda n\\xE3o criou projetos.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), activeTab === 'amigos' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.userList,\n          children: friends.length > 0 ? friends.map(amigo => /*#__PURE__*/_jsxDEV(Link, {\n            to: `/usuario/${amigo.id}`,\n            className: styles.userListItem,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: amigo.profile_pic_url || amigo.foto || `https://i.pravatar.cc/40?u=${amigo.id}`,\n              alt: amigo.nome\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: amigo.nome\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 19\n            }, this)]\n          }, amigo.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.emptyTabText,\n            children: \"Este usu\\xE1rio ainda n\\xE3o tem seguidores.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n}\n_s(UserProfile, \"5AFub1LLhiPRbr4dbqENaaxYNU4=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c3 = UserProfile;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MusicIcon\");\n$RefreshReg$(_c2, \"PeopleIcon\");\n$RefreshReg$(_c3, \"UserProfile\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","styles","useParams","Link","useNavigate","jsxDEV","_jsxDEV","MusicIcon","style","marginRight","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","PeopleIcon","_c2","UserProfile","_s","id","profileIdFromParams","profileUser","setProfileUser","projects","setProjects","friends","setFriends","activeTab","setActiveTab","loggedUserId","setLoggedUserId","isFollowing","setIsFollowing","loading","setLoading","navigate","token","localStorage","getItem","fetch","headers","Authorization","then","res","ok","status","removeItem","json","data","user","catch","err","console","error","fetchProfileAndFollowingStatus","Error","is_following","fetchProjects","dataPosts","posts","fetchFriendsAndCheckFollowing","followers","e","isNowFollowing","some","f","handleFollow","alert","action","method","message","className","to","isOwnProfile","profilePageContainer","profileSidebar","profileUserPhoto","src","profile_pic_url","alt","nome","profileUserName","email","profileUserEmail","profileActionButton","unfollowButton","followButton","onClick","descricao","profileSection","sectionTitle","profileDescriptionText","links_sociais","socialLinksList","split","map","link","index","trim","startsWith","target","rel","replace","profileContentArea","profileTabs","tabButton","activeTabButton","tabCount","length","tabContent","postsGrid","post","postCard","postCardLinkWrapper","postCardTitle","titulo","postCardDescription","texto","substring","audio_url","controls","postCardAudioPlayer","postCardDate","Date","created_at","data_criacao","now","toLocaleDateString","emptyTabText","userList","amigo","userListItem","foto","_c3","$RefreshReg$"],"sources":["C:/Users/Aluno/harmoCrew/frontend/src/components/UserProfile.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport styles from '../styles/ProfilePage.module.css';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport \"../styles/global.css\";\r\nimport \"../styles/colors.css\";\r\n\r\nconst MusicIcon = () => <span style={{ marginRight: '8px' }}>🎵</span>;\r\nconst PeopleIcon = () => <span style={{ marginRight: '8px' }}>👥</span>;\r\n\r\nexport default function UserProfile() {\r\n  const { id: profileIdFromParams } = useParams();\r\n  const [profileUser, setProfileUser] = useState(null);\r\n  const [projects, setProjects] = useState([]);\r\n  const [friends, setFriends] = useState([]);\r\n  const [activeTab, setActiveTab] = useState('projetos');\r\n  \r\n  const [loggedUserId, setLoggedUserId] = useState(null);\r\n  const [isFollowing, setIsFollowing] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      return;\r\n    }\r\n\r\n    fetch('http://localhost:5000/profile', {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    })\r\n      .then(res => {\r\n        if (!res.ok && res.status === 401) {\r\n          localStorage.removeItem('token');\r\n          return null;\r\n        }\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        if (data && data.user) {\r\n          setLoggedUserId(data.user.id);\r\n        }\r\n      })\r\n      .catch(err => console.error(\"Erro ao buscar usuário logado:\", err));\r\n  }, [navigate]);\r\n\r\n  const fetchProfileAndFollowingStatus = useCallback(async () => {\r\n    if (!profileIdFromParams) return;\r\n    setLoading(true);\r\n    const token = localStorage.getItem('token');\r\n\r\n    try {\r\n      const headers = {};\r\n      if (token) {\r\n        headers['Authorization'] = `Bearer ${token}`;\r\n      }\r\n      const res = await fetch(`http://localhost:5000/user/${profileIdFromParams}`, { headers });\r\n      \r\n      if (!res.ok) {\r\n        throw new Error(`Falha ao buscar perfil do usuário (status ${res.status})`);\r\n      }\r\n      const data = await res.json();\r\n      if (data.user) {\r\n        setProfileUser(data.user);\r\n        if (typeof data.user.is_following !== 'undefined') {\r\n          setIsFollowing(data.user.is_following);\r\n        }\r\n      } else {\r\n        setProfileUser(null);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Erro ao buscar dados do perfil:\", err);\r\n      setProfileUser(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [profileIdFromParams, loggedUserId]);\r\n\r\n  const fetchProjects = useCallback(async () => {\r\n    if (!profileUser) return;\r\n    const token = localStorage.getItem('token');\r\n    const headers = {};\r\n    if (token) {\r\n        headers['Authorization'] = `Bearer ${token}`;\r\n    }\r\n\r\n    try {\r\n        const res = await fetch(`http://localhost:5000/user/${profileUser.id}/posts`, { headers });\r\n        if (res.ok) {\r\n            const dataPosts = await res.json();\r\n            setProjects(dataPosts.posts || []);\r\n        } else {\r\n            console.error(\"Falha ao buscar projetos do usuário\");\r\n            setProjects([]);\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Erro de conexão ao buscar projetos:\", error);\r\n        setProjects([]);\r\n    }\r\n  }, [profileUser]);\r\n\r\n  const fetchFriendsAndCheckFollowing = useCallback(async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token || !profileUser || !loggedUserId) {\r\n      if (profileUser) {\r\n        try {\r\n            const res = await fetch(`http://localhost:5000/user/${profileUser.id}/followers`);\r\n            if(res.ok) {\r\n                const data = await res.json();\r\n                setFriends(data.followers || []);\r\n            } else { setFriends([]); }\r\n        } catch(e) { console.error(\"Erro ao buscar amigos (sem token):\", e); setFriends([]);}\r\n      }\r\n      return;\r\n    }\r\n\r\n    try {\r\n        const res = await fetch(`http://localhost:5000/user/${profileUser.id}/followers`, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        if (res.ok) {\r\n            const data = await res.json();\r\n            setFriends(data.followers || []);\r\n\r\n            if (profileUser && loggedUserId && data.followers) {\r\n              if (typeof profileUser.is_following === 'undefined') {\r\n                  const isNowFollowing = data.followers.some(f => f.id === loggedUserId);\r\n                  setIsFollowing(isNowFollowing);\r\n              }\r\n            }\r\n        } else {\r\n            setFriends([]);\r\n        }\r\n    } catch (err) {\r\n        console.error(\"Erro ao buscar amigos:\", err);\r\n        setFriends([]);\r\n    }\r\n  }, [profileUser, loggedUserId]);\r\n\r\n  useEffect(() => {\r\n    fetchProfileAndFollowingStatus();\r\n  }, [fetchProfileAndFollowingStatus]);\r\n\r\n  useEffect(() => {\r\n    if (profileUser) {\r\n      fetchProjects();\r\n      fetchFriendsAndCheckFollowing();\r\n    }\r\n  }, [profileUser, fetchProjects, fetchFriendsAndCheckFollowing]);\r\n\r\n  const handleFollow = async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token || !profileUser || profileUser.id === loggedUserId) {\r\n      alert(\"Você precisa estar logado para seguir usuários.\");\r\n      return;\r\n    }\r\n    \r\n    const action = isFollowing ? 'unfollow' : 'follow';\r\n\r\n    try {\r\n        const res = await fetch(`http://localhost:5000/${action}/${profileUser.id}`, {\r\n          method: 'POST',\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        const data = await res.json();\r\n        if (res.ok) {\r\n          alert(data.message || `Operação de ${action} bem-sucedida!`);\r\n          setIsFollowing(!isFollowing);\r\n          fetchFriendsAndCheckFollowing();\r\n        } else {\r\n          alert(data.message || `Erro ao ${action}.`);\r\n        }\r\n    } catch (err) {\r\n        console.error(`Erro ao tentar ${action}:`, err);\r\n        alert(`Erro de conexão ao tentar ${action}.`);\r\n    }\r\n  };\r\n\r\n  if (loading) return <p className={styles.loading}>Carregando perfil...</p>;\r\n  if (!profileUser) return <p className={styles.loading}>Perfil não encontrado. <Link to=\"/home\">Voltar para Home</Link></p>;\r\n\r\n  const isOwnProfile = loggedUserId === profileUser.id;\r\n\r\n  return (\r\n    <div className={styles.profilePageContainer}>\r\n      <aside className={styles.profileSidebar}>\r\n        <img\r\n          className={styles.profileUserPhoto}\r\n          src={profileUser.profile_pic_url || `https://i.pravatar.cc/150?u=${profileUser.id}`}\r\n          alt={`Foto de ${profileUser.nome}`}\r\n        />\r\n        <h2 className={styles.profileUserName}>{profileUser.nome}</h2>\r\n        {profileUser.email && <p className={styles.profileUserEmail}>{profileUser.email}</p>}\r\n\r\n        {!isOwnProfile && loggedUserId && (\r\n          <button \r\n            className={`${styles.profileActionButton} ${isFollowing ? styles.unfollowButton : styles.followButton}`} \r\n            onClick={handleFollow}\r\n          >\r\n            {isFollowing ? 'Deixar de Seguir' : 'Seguir'}\r\n          </button>\r\n        )}\r\n\r\n        {profileUser.descricao && (\r\n            <div className={styles.profileSection}>\r\n                <h3 className={styles.sectionTitle}>Descrição</h3>\r\n                <p className={styles.profileDescriptionText}>{profileUser.descricao}</p>\r\n            </div>\r\n        )}\r\n       {profileUser.links_sociais && (\r\n            <div className={styles.profileSection}>\r\n                <h3 className={styles.sectionTitle}>Redes Sociais / Streaming</h3>\r\n                <ul className={styles.socialLinksList}>\r\n                    {profileUser.links_sociais.split(',').map((link, index) => link.trim() && (\r\n                        <li key={index}>\r\n                            <Link to={!link.startsWith('http') ? `https://${link.trim()}` : link.trim()} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                {link.trim().replace(/^https?:\\/\\//, '')}\r\n                            </Link>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n        )}\r\n      </aside>\r\n\r\n      <main className={styles.profileContentArea}>\r\n        <div className={styles.profileTabs}>\r\n          <button\r\n            className={`${styles.tabButton} ${activeTab === 'projetos' ? styles.activeTabButton : ''}`}\r\n            onClick={() => setActiveTab('projetos')}\r\n          >\r\n            <MusicIcon /> Projetos <span className={styles.tabCount}>({projects.length})</span>\r\n          </button>\r\n          <button\r\n            className={`${styles.tabButton} ${activeTab === 'amigos' ? styles.activeTabButton : ''}`}\r\n            onClick={() => setActiveTab('amigos')}\r\n          >\r\n            <PeopleIcon /> Seguidores <span className={styles.tabCount}>({friends.length})</span>\r\n          </button>\r\n        </div>\r\n\r\n        <div className={styles.tabContent}>\r\n          {activeTab === 'projetos' && (\r\n            <div className={styles.postsGrid}>\r\n              {projects.length > 0 ? projects.map(post => (\r\n                <div key={post.id} className={styles.postCard}>\r\n                  <Link to={`/post/${post.id}`} className={styles.postCardLinkWrapper}>\r\n                    <h5 className={styles.postCardTitle}>{post.titulo || \"Projeto sem título\"}</h5>\r\n                    <p className={styles.postCardDescription}>\r\n                      {post.texto ? (post.texto.substring(0, 100) + (post.texto.length > 100 ? '...' : '')) : (post.descricao || \"Sem descrição.\")}\r\n                    </p>\r\n                  </Link>\r\n                  {post.audio_url && (\r\n                    <audio controls src={post.audio_url} className={styles.postCardAudioPlayer}>\r\n                      Seu navegador não suporta o elemento de áudio.\r\n                    </audio>\r\n                  )}\r\n                  <small className={styles.postCardDate}>\r\n                    {new Date(post.created_at || post.data_criacao || post.data || Date.now()).toLocaleDateString('pt-BR')}\r\n                  </small>\r\n                </div>\r\n              )) : <p className={styles.emptyTabText}>Este usuário ainda não criou projetos.</p>}\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'amigos' && (\r\n            <div className={styles.userList}>\r\n              {friends.length > 0 ? friends.map(amigo => (\r\n                <Link to={`/usuario/${amigo.id}`} key={amigo.id} className={styles.userListItem}>\r\n                  <img\r\n                    src={amigo.profile_pic_url || amigo.foto || `https://i.pravatar.cc/40?u=${amigo.id}`}\r\n                    alt={amigo.nome}\r\n                  />\r\n                  <span>{amigo.nome}</span>\r\n                </Link>\r\n              )) : <p className={styles.emptyTabText}>Este usuário ainda não tem seguidores.</p>}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC/D,OAAOC,MAAM,MAAM,kCAAkC;AACrD,SAASC,SAAS,EAAEC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AAC/D,OAAO,sBAAsB;AAC7B,OAAO,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9B,MAAMC,SAAS,GAAGA,CAAA,kBAAMD,OAAA;EAAME,KAAK,EAAE;IAAEC,WAAW,EAAE;EAAM,CAAE;EAAAC,QAAA,EAAC;AAAE;EAAAC,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAAM,CAAC;AAACC,EAAA,GAAjER,SAAS;AACf,MAAMS,UAAU,GAAGA,CAAA,kBAAMV,OAAA;EAAME,KAAK,EAAE;IAAEC,WAAW,EAAE;EAAM,CAAE;EAAAC,QAAA,EAAC;AAAE;EAAAC,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAAM,CAAC;AAACG,GAAA,GAAlED,UAAU;AAEhB,eAAe,SAASE,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACpC,MAAM;IAAEC,EAAE,EAAEC;EAAoB,CAAC,GAAGnB,SAAS,CAAC,CAAC;EAC/C,MAAM,CAACoB,WAAW,EAAEC,cAAc,CAAC,GAAGxB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACyB,QAAQ,EAAEC,WAAW,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC2B,OAAO,EAAEC,UAAU,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC6B,SAAS,EAAEC,YAAY,CAAC,GAAG9B,QAAQ,CAAC,UAAU,CAAC;EAEtD,MAAM,CAAC+B,YAAY,EAAEC,eAAe,CAAC,GAAGhC,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACiC,WAAW,EAAEC,cAAc,CAAC,GAAGlC,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACmC,OAAO,EAAEC,UAAU,CAAC,GAAGpC,QAAQ,CAAC,IAAI,CAAC;EAE5C,MAAMqC,QAAQ,GAAGhC,WAAW,CAAC,CAAC;EAE9BN,SAAS,CAAC,MAAM;IACd,MAAMuC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE;MACV;IACF;IAEAG,KAAK,CAAC,+BAA+B,EAAE;MACrCC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUL,KAAK;MAAG;IAC9C,CAAC,CAAC,CACCM,IAAI,CAACC,GAAG,IAAI;MACX,IAAI,CAACA,GAAG,CAACC,EAAE,IAAID,GAAG,CAACE,MAAM,KAAK,GAAG,EAAE;QACjCR,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;QAChC,OAAO,IAAI;MACb;MACA,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;IACnB,CAAC,CAAC,CACDL,IAAI,CAACM,IAAI,IAAI;MACZ,IAAIA,IAAI,IAAIA,IAAI,CAACC,IAAI,EAAE;QACrBnB,eAAe,CAACkB,IAAI,CAACC,IAAI,CAAC9B,EAAE,CAAC;MAC/B;IACF,CAAC,CAAC,CACD+B,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,KAAK,CAAC,gCAAgC,EAAEF,GAAG,CAAC,CAAC;EACvE,CAAC,EAAE,CAAChB,QAAQ,CAAC,CAAC;EAEd,MAAMmB,8BAA8B,GAAGvD,WAAW,CAAC,YAAY;IAC7D,IAAI,CAACqB,mBAAmB,EAAE;IAC1Bc,UAAU,CAAC,IAAI,CAAC;IAChB,MAAME,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,IAAI;MACF,MAAME,OAAO,GAAG,CAAC,CAAC;MAClB,IAAIJ,KAAK,EAAE;QACTI,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUJ,KAAK,EAAE;MAC9C;MACA,MAAMO,GAAG,GAAG,MAAMJ,KAAK,CAAC,8BAA8BnB,mBAAmB,EAAE,EAAE;QAAEoB;MAAQ,CAAC,CAAC;MAEzF,IAAI,CAACG,GAAG,CAACC,EAAE,EAAE;QACX,MAAM,IAAIW,KAAK,CAAC,6CAA6CZ,GAAG,CAACE,MAAM,GAAG,CAAC;MAC7E;MACA,MAAMG,IAAI,GAAG,MAAML,GAAG,CAACI,IAAI,CAAC,CAAC;MAC7B,IAAIC,IAAI,CAACC,IAAI,EAAE;QACb3B,cAAc,CAAC0B,IAAI,CAACC,IAAI,CAAC;QACzB,IAAI,OAAOD,IAAI,CAACC,IAAI,CAACO,YAAY,KAAK,WAAW,EAAE;UACjDxB,cAAc,CAACgB,IAAI,CAACC,IAAI,CAACO,YAAY,CAAC;QACxC;MACF,CAAC,MAAM;QACLlC,cAAc,CAAC,IAAI,CAAC;MACtB;IACF,CAAC,CAAC,OAAO6B,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,iCAAiC,EAAEF,GAAG,CAAC;MACrD7B,cAAc,CAAC,IAAI,CAAC;IACtB,CAAC,SAAS;MACRY,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACd,mBAAmB,EAAES,YAAY,CAAC,CAAC;EAEvC,MAAM4B,aAAa,GAAG1D,WAAW,CAAC,YAAY;IAC5C,IAAI,CAACsB,WAAW,EAAE;IAClB,MAAMe,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAME,OAAO,GAAG,CAAC,CAAC;IAClB,IAAIJ,KAAK,EAAE;MACPI,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUJ,KAAK,EAAE;IAChD;IAEA,IAAI;MACA,MAAMO,GAAG,GAAG,MAAMJ,KAAK,CAAC,8BAA8BlB,WAAW,CAACF,EAAE,QAAQ,EAAE;QAAEqB;MAAQ,CAAC,CAAC;MAC1F,IAAIG,GAAG,CAACC,EAAE,EAAE;QACR,MAAMc,SAAS,GAAG,MAAMf,GAAG,CAACI,IAAI,CAAC,CAAC;QAClCvB,WAAW,CAACkC,SAAS,CAACC,KAAK,IAAI,EAAE,CAAC;MACtC,CAAC,MAAM;QACHP,OAAO,CAACC,KAAK,CAAC,qCAAqC,CAAC;QACpD7B,WAAW,CAAC,EAAE,CAAC;MACnB;IACJ,CAAC,CAAC,OAAO6B,KAAK,EAAE;MACZD,OAAO,CAACC,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC3D7B,WAAW,CAAC,EAAE,CAAC;IACnB;EACF,CAAC,EAAE,CAACH,WAAW,CAAC,CAAC;EAEjB,MAAMuC,6BAA6B,GAAG7D,WAAW,CAAC,YAAY;IAC5D,MAAMqC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,IAAI,CAACf,WAAW,IAAI,CAACQ,YAAY,EAAE;MAC3C,IAAIR,WAAW,EAAE;QACf,IAAI;UACA,MAAMsB,GAAG,GAAG,MAAMJ,KAAK,CAAC,8BAA8BlB,WAAW,CAACF,EAAE,YAAY,CAAC;UACjF,IAAGwB,GAAG,CAACC,EAAE,EAAE;YACP,MAAMI,IAAI,GAAG,MAAML,GAAG,CAACI,IAAI,CAAC,CAAC;YAC7BrB,UAAU,CAACsB,IAAI,CAACa,SAAS,IAAI,EAAE,CAAC;UACpC,CAAC,MAAM;YAAEnC,UAAU,CAAC,EAAE,CAAC;UAAE;QAC7B,CAAC,CAAC,OAAMoC,CAAC,EAAE;UAAEV,OAAO,CAACC,KAAK,CAAC,oCAAoC,EAAES,CAAC,CAAC;UAAEpC,UAAU,CAAC,EAAE,CAAC;QAAC;MACtF;MACA;IACF;IAEA,IAAI;MACA,MAAMiB,GAAG,GAAG,MAAMJ,KAAK,CAAC,8BAA8BlB,WAAW,CAACF,EAAE,YAAY,EAAE;QAChFqB,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUL,KAAK;QAAG;MAC9C,CAAC,CAAC;MACF,IAAIO,GAAG,CAACC,EAAE,EAAE;QACR,MAAMI,IAAI,GAAG,MAAML,GAAG,CAACI,IAAI,CAAC,CAAC;QAC7BrB,UAAU,CAACsB,IAAI,CAACa,SAAS,IAAI,EAAE,CAAC;QAEhC,IAAIxC,WAAW,IAAIQ,YAAY,IAAImB,IAAI,CAACa,SAAS,EAAE;UACjD,IAAI,OAAOxC,WAAW,CAACmC,YAAY,KAAK,WAAW,EAAE;YACjD,MAAMO,cAAc,GAAGf,IAAI,CAACa,SAAS,CAACG,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAC9C,EAAE,KAAKU,YAAY,CAAC;YACtEG,cAAc,CAAC+B,cAAc,CAAC;UAClC;QACF;MACJ,CAAC,MAAM;QACHrC,UAAU,CAAC,EAAE,CAAC;MAClB;IACJ,CAAC,CAAC,OAAOyB,GAAG,EAAE;MACVC,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAEF,GAAG,CAAC;MAC5CzB,UAAU,CAAC,EAAE,CAAC;IAClB;EACF,CAAC,EAAE,CAACL,WAAW,EAAEQ,YAAY,CAAC,CAAC;EAE/BhC,SAAS,CAAC,MAAM;IACdyD,8BAA8B,CAAC,CAAC;EAClC,CAAC,EAAE,CAACA,8BAA8B,CAAC,CAAC;EAEpCzD,SAAS,CAAC,MAAM;IACd,IAAIwB,WAAW,EAAE;MACfoC,aAAa,CAAC,CAAC;MACfG,6BAA6B,CAAC,CAAC;IACjC;EACF,CAAC,EAAE,CAACvC,WAAW,EAAEoC,aAAa,EAAEG,6BAA6B,CAAC,CAAC;EAE/D,MAAMM,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,MAAM9B,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,IAAI,CAACf,WAAW,IAAIA,WAAW,CAACF,EAAE,KAAKU,YAAY,EAAE;MAC7DsC,KAAK,CAAC,iDAAiD,CAAC;MACxD;IACF;IAEA,MAAMC,MAAM,GAAGrC,WAAW,GAAG,UAAU,GAAG,QAAQ;IAElD,IAAI;MACA,MAAMY,GAAG,GAAG,MAAMJ,KAAK,CAAC,yBAAyB6B,MAAM,IAAI/C,WAAW,CAACF,EAAE,EAAE,EAAE;QAC3EkD,MAAM,EAAE,MAAM;QACd7B,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUL,KAAK;QAAG;MAC9C,CAAC,CAAC;MACF,MAAMY,IAAI,GAAG,MAAML,GAAG,CAACI,IAAI,CAAC,CAAC;MAC7B,IAAIJ,GAAG,CAACC,EAAE,EAAE;QACVuB,KAAK,CAACnB,IAAI,CAACsB,OAAO,IAAI,eAAeF,MAAM,gBAAgB,CAAC;QAC5DpC,cAAc,CAAC,CAACD,WAAW,CAAC;QAC5B6B,6BAA6B,CAAC,CAAC;MACjC,CAAC,MAAM;QACLO,KAAK,CAACnB,IAAI,CAACsB,OAAO,IAAI,WAAWF,MAAM,GAAG,CAAC;MAC7C;IACJ,CAAC,CAAC,OAAOjB,GAAG,EAAE;MACVC,OAAO,CAACC,KAAK,CAAC,kBAAkBe,MAAM,GAAG,EAAEjB,GAAG,CAAC;MAC/CgB,KAAK,CAAC,6BAA6BC,MAAM,GAAG,CAAC;IACjD;EACF,CAAC;EAED,IAAInC,OAAO,EAAE,oBAAO5B,OAAA;IAAGkE,SAAS,EAAEvE,MAAM,CAACiC,OAAQ;IAAAxB,QAAA,EAAC;EAAoB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAC1E,IAAI,CAACQ,WAAW,EAAE,oBAAOhB,OAAA;IAAGkE,SAAS,EAAEvE,MAAM,CAACiC,OAAQ;IAAAxB,QAAA,GAAC,4BAAuB,eAAAJ,OAAA,CAACH,IAAI;MAACsE,EAAE,EAAC,OAAO;MAAA/D,QAAA,EAAC;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAE1H,MAAM4D,YAAY,GAAG5C,YAAY,KAAKR,WAAW,CAACF,EAAE;EAEpD,oBACEd,OAAA;IAAKkE,SAAS,EAAEvE,MAAM,CAAC0E,oBAAqB;IAAAjE,QAAA,gBAC1CJ,OAAA;MAAOkE,SAAS,EAAEvE,MAAM,CAAC2E,cAAe;MAAAlE,QAAA,gBACtCJ,OAAA;QACEkE,SAAS,EAAEvE,MAAM,CAAC4E,gBAAiB;QACnCC,GAAG,EAAExD,WAAW,CAACyD,eAAe,IAAI,+BAA+BzD,WAAW,CAACF,EAAE,EAAG;QACpF4D,GAAG,EAAE,WAAW1D,WAAW,CAAC2D,IAAI;MAAG;QAAAtE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpC,CAAC,eACFR,OAAA;QAAIkE,SAAS,EAAEvE,MAAM,CAACiF,eAAgB;QAAAxE,QAAA,EAAEY,WAAW,CAAC2D;MAAI;QAAAtE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EAC7DQ,WAAW,CAAC6D,KAAK,iBAAI7E,OAAA;QAAGkE,SAAS,EAAEvE,MAAM,CAACmF,gBAAiB;QAAA1E,QAAA,EAAEY,WAAW,CAAC6D;MAAK;QAAAxE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAEnF,CAAC4D,YAAY,IAAI5C,YAAY,iBAC5BxB,OAAA;QACEkE,SAAS,EAAE,GAAGvE,MAAM,CAACoF,mBAAmB,IAAIrD,WAAW,GAAG/B,MAAM,CAACqF,cAAc,GAAGrF,MAAM,CAACsF,YAAY,EAAG;QACxGC,OAAO,EAAErB,YAAa;QAAAzD,QAAA,EAErBsB,WAAW,GAAG,kBAAkB,GAAG;MAAQ;QAAArB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CACT,EAEAQ,WAAW,CAACmE,SAAS,iBAClBnF,OAAA;QAAKkE,SAAS,EAAEvE,MAAM,CAACyF,cAAe;QAAAhF,QAAA,gBAClCJ,OAAA;UAAIkE,SAAS,EAAEvE,MAAM,CAAC0F,YAAa;UAAAjF,QAAA,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAClDR,OAAA;UAAGkE,SAAS,EAAEvE,MAAM,CAAC2F,sBAAuB;UAAAlF,QAAA,EAAEY,WAAW,CAACmE;QAAS;UAAA9E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvE,CACR,EACDQ,WAAW,CAACuE,aAAa,iBACrBvF,OAAA;QAAKkE,SAAS,EAAEvE,MAAM,CAACyF,cAAe;QAAAhF,QAAA,gBAClCJ,OAAA;UAAIkE,SAAS,EAAEvE,MAAM,CAAC0F,YAAa;UAAAjF,QAAA,EAAC;QAAyB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAClER,OAAA;UAAIkE,SAAS,EAAEvE,MAAM,CAAC6F,eAAgB;UAAApF,QAAA,EACjCY,WAAW,CAACuE,aAAa,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAKD,IAAI,CAACE,IAAI,CAAC,CAAC,iBAClE7F,OAAA;YAAAI,QAAA,eACIJ,OAAA,CAACH,IAAI;cAACsE,EAAE,EAAE,CAACwB,IAAI,CAACG,UAAU,CAAC,MAAM,CAAC,GAAG,WAAWH,IAAI,CAACE,IAAI,CAAC,CAAC,EAAE,GAAGF,IAAI,CAACE,IAAI,CAAC,CAAE;cAACE,MAAM,EAAC,QAAQ;cAACC,GAAG,EAAC,qBAAqB;cAAA5F,QAAA,EACjHuF,IAAI,CAACE,IAAI,CAAC,CAAC,CAACI,OAAO,CAAC,cAAc,EAAE,EAAE;YAAC;cAAA5F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtC;UAAC,GAHFoF,KAAK;YAAAvF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAIV,CACP;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CACR;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC,eAERR,OAAA;MAAMkE,SAAS,EAAEvE,MAAM,CAACuG,kBAAmB;MAAA9F,QAAA,gBACzCJ,OAAA;QAAKkE,SAAS,EAAEvE,MAAM,CAACwG,WAAY;QAAA/F,QAAA,gBACjCJ,OAAA;UACEkE,SAAS,EAAE,GAAGvE,MAAM,CAACyG,SAAS,IAAI9E,SAAS,KAAK,UAAU,GAAG3B,MAAM,CAAC0G,eAAe,GAAG,EAAE,EAAG;UAC3FnB,OAAO,EAAEA,CAAA,KAAM3D,YAAY,CAAC,UAAU,CAAE;UAAAnB,QAAA,gBAExCJ,OAAA,CAACC,SAAS;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,cAAU,eAAAR,OAAA;YAAMkE,SAAS,EAAEvE,MAAM,CAAC2G,QAAS;YAAAlG,QAAA,GAAC,GAAC,EAACc,QAAQ,CAACqF,MAAM,EAAC,GAAC;UAAA;YAAAlG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7E,CAAC,eACTR,OAAA;UACEkE,SAAS,EAAE,GAAGvE,MAAM,CAACyG,SAAS,IAAI9E,SAAS,KAAK,QAAQ,GAAG3B,MAAM,CAAC0G,eAAe,GAAG,EAAE,EAAG;UACzFnB,OAAO,EAAEA,CAAA,KAAM3D,YAAY,CAAC,QAAQ,CAAE;UAAAnB,QAAA,gBAEtCJ,OAAA,CAACU,UAAU;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,gBAAY,eAAAR,OAAA;YAAMkE,SAAS,EAAEvE,MAAM,CAAC2G,QAAS;YAAAlG,QAAA,GAAC,GAAC,EAACgB,OAAO,CAACmF,MAAM,EAAC,GAAC;UAAA;YAAAlG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/E,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENR,OAAA;QAAKkE,SAAS,EAAEvE,MAAM,CAAC6G,UAAW;QAAApG,QAAA,GAC/BkB,SAAS,KAAK,UAAU,iBACvBtB,OAAA;UAAKkE,SAAS,EAAEvE,MAAM,CAAC8G,SAAU;UAAArG,QAAA,EAC9Bc,QAAQ,CAACqF,MAAM,GAAG,CAAC,GAAGrF,QAAQ,CAACwE,GAAG,CAACgB,IAAI,iBACtC1G,OAAA;YAAmBkE,SAAS,EAAEvE,MAAM,CAACgH,QAAS;YAAAvG,QAAA,gBAC5CJ,OAAA,CAACH,IAAI;cAACsE,EAAE,EAAE,SAASuC,IAAI,CAAC5F,EAAE,EAAG;cAACoD,SAAS,EAAEvE,MAAM,CAACiH,mBAAoB;cAAAxG,QAAA,gBAClEJ,OAAA;gBAAIkE,SAAS,EAAEvE,MAAM,CAACkH,aAAc;gBAAAzG,QAAA,EAAEsG,IAAI,CAACI,MAAM,IAAI;cAAoB;gBAAAzG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC/ER,OAAA;gBAAGkE,SAAS,EAAEvE,MAAM,CAACoH,mBAAoB;gBAAA3G,QAAA,EACtCsG,IAAI,CAACM,KAAK,GAAIN,IAAI,CAACM,KAAK,CAACC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,IAAIP,IAAI,CAACM,KAAK,CAACT,MAAM,GAAG,GAAG,GAAG,KAAK,GAAG,EAAE,CAAC,GAAKG,IAAI,CAACvB,SAAS,IAAI;cAAiB;gBAAA9E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3H,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,EACNkG,IAAI,CAACQ,SAAS,iBACblH,OAAA;cAAOmH,QAAQ;cAAC3C,GAAG,EAAEkC,IAAI,CAACQ,SAAU;cAAChD,SAAS,EAAEvE,MAAM,CAACyH,mBAAoB;cAAAhH,QAAA,EAAC;YAE5E;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CACR,eACDR,OAAA;cAAOkE,SAAS,EAAEvE,MAAM,CAAC0H,YAAa;cAAAjH,QAAA,EACnC,IAAIkH,IAAI,CAACZ,IAAI,CAACa,UAAU,IAAIb,IAAI,CAACc,YAAY,IAAId,IAAI,CAAC/D,IAAI,IAAI2E,IAAI,CAACG,GAAG,CAAC,CAAC,CAAC,CAACC,kBAAkB,CAAC,OAAO;YAAC;cAAArH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjG,CAAC;UAAA,GAdAkG,IAAI,CAAC5F,EAAE;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAeZ,CACN,CAAC,gBAAGR,OAAA;YAAGkE,SAAS,EAAEvE,MAAM,CAACgI,YAAa;YAAAvH,QAAA,EAAC;UAAsC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/E,CACN,EAEAc,SAAS,KAAK,QAAQ,iBACrBtB,OAAA;UAAKkE,SAAS,EAAEvE,MAAM,CAACiI,QAAS;UAAAxH,QAAA,EAC7BgB,OAAO,CAACmF,MAAM,GAAG,CAAC,GAAGnF,OAAO,CAACsE,GAAG,CAACmC,KAAK,iBACrC7H,OAAA,CAACH,IAAI;YAACsE,EAAE,EAAE,YAAY0D,KAAK,CAAC/G,EAAE,EAAG;YAAgBoD,SAAS,EAAEvE,MAAM,CAACmI,YAAa;YAAA1H,QAAA,gBAC9EJ,OAAA;cACEwE,GAAG,EAAEqD,KAAK,CAACpD,eAAe,IAAIoD,KAAK,CAACE,IAAI,IAAI,8BAA8BF,KAAK,CAAC/G,EAAE,EAAG;cACrF4D,GAAG,EAAEmD,KAAK,CAAClD;YAAK;cAAAtE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjB,CAAC,eACFR,OAAA;cAAAI,QAAA,EAAOyH,KAAK,CAAClD;YAAI;cAAAtE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA,GALYqH,KAAK,CAAC/G,EAAE;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAMzC,CACP,CAAC,gBAAGR,OAAA;YAAGkE,SAAS,EAAEvE,MAAM,CAACgI,YAAa;YAAAvH,QAAA,EAAC;UAAsC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/E,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAACK,EAAA,CAjRuBD,WAAW;EAAA,QACGhB,SAAS,EAU5BE,WAAW;AAAA;AAAAkI,GAAA,GAXNpH,WAAW;AAAA,IAAAH,EAAA,EAAAE,GAAA,EAAAqH,GAAA;AAAAC,YAAA,CAAAxH,EAAA;AAAAwH,YAAA,CAAAtH,GAAA;AAAAsH,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}