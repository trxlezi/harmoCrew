{"ast":null,"code":"var _jsxFileName = \"/home/d-_-b/harmoCrew/frontend/src/pages/ProfilePage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport styles from '../styles/ProfilePage.module.css';\nimport { useAuth } from '../context/AuthContext';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport \"../styles/global.css\";\nimport \"../styles/colors.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditIcon = () => /*#__PURE__*/_jsxDEV(\"span\", {\n  style: {\n    cursor: 'pointer',\n    marginLeft: '8px',\n    fontSize: '0.9em'\n  },\n  children: \"\\u270F\\uFE0F\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 8,\n  columnNumber: 24\n}, this);\n_c = EditIcon;\nconst LinkIcon = () => /*#__PURE__*/_jsxDEV(\"span\", {\n  style: {\n    marginRight: '8px',\n    color: 'var(--accent-blue)'\n  },\n  children: \"\\uD83D\\uDD17\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 24\n}, this);\n_c2 = LinkIcon;\nconst MusicIcon = () => /*#__PURE__*/_jsxDEV(\"span\", {\n  style: {\n    marginRight: '8px'\n  },\n  children: \"\\uD83C\\uDFB5\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 10,\n  columnNumber: 25\n}, this);\n_c3 = MusicIcon;\nconst PeopleIcon = () => /*#__PURE__*/_jsxDEV(\"span\", {\n  style: {\n    marginRight: '8px'\n  },\n  children: \"\\uD83D\\uDC65\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 11,\n  columnNumber: 26\n}, this);\n_c4 = PeopleIcon;\nexport default function ProfilePage() {\n  _s();\n  const {\n    user: loggedUser,\n    token,\n    logout\n  } = useAuth();\n  const {\n    id: profileIdFromParams\n  } = useParams();\n  const navigate = useNavigate();\n  const [profileData, setProfileData] = useState(null);\n  const [userPosts, setUserPosts] = useState([]);\n  const [followingList, setFollowingList] = useState([]);\n  const [followersList, setFollowersList] = useState([]);\n  const [activeTab, setActiveTab] = useState('beats');\n  const [isCurrentUserProfile, setIsCurrentUserProfile] = useState(false);\n  const [isFollowingProfile, setIsFollowingProfile] = useState(false);\n  const [loadingProfile, setLoadingProfile] = useState(true);\n  const [editingDescricao, setEditingDescricao] = useState(false);\n  const [novaDescricao, setNovaDescricao] = useState(\"\");\n  const [editingLinks, setEditingLinks] = useState(false);\n  const [novosLinks, setNovosLinks] = useState(\"\");\n  const userIdToFetch = profileIdFromParams ? parseInt(profileIdFromParams) : loggedUser === null || loggedUser === void 0 ? void 0 : loggedUser.id;\n  const fetchProfileData = useCallback(async () => {\n    if (!userIdToFetch || !token) {\n      if (!loggedUser && !profileIdFromParams) {\n        navigate('/login');\n      }\n      setLoadingProfile(false);\n      return;\n    }\n    setLoadingProfile(true);\n    try {\n      const res = await fetch(`http://localhost:5000/user/${userIdToFetch}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!res.ok) {\n        if (res.status === 401) {\n          logout();\n          navigate('/login');\n        }\n        throw new Error(`Falha ao buscar dados do perfil (status ${res.status}).`);\n      }\n      const data = await res.json();\n      if (data.user) {\n        setProfileData(data.user);\n        setNovaDescricao(data.user.descricao || \"\");\n        setNovosLinks(data.user.links_sociais || \"\");\n        setIsCurrentUserProfile((loggedUser === null || loggedUser === void 0 ? void 0 : loggedUser.id) === data.user.id);\n        setIsFollowingProfile(data.user.is_following || false);\n      } else {\n        throw new Error('Usu√°rio n√£o encontrado nos dados recebidos.');\n      }\n    } catch (error) {\n      console.error(\"Erro ao buscar dados do perfil:\", error.message);\n      setProfileData(null);\n    } finally {\n      setLoadingProfile(false);\n    }\n  }, [userIdToFetch, token, loggedUser === null || loggedUser === void 0 ? void 0 : loggedUser.id, logout, navigate, profileIdFromParams]);\n  const fetchUserContent = useCallback(async () => {\n    if (!userIdToFetch || !token) return;\n    try {\n      const resPosts = await fetch(`http://localhost:5000/user/${userIdToFetch}/posts`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (resPosts.ok) {\n        const dataPosts = await resPosts.json();\n        setUserPosts(dataPosts.posts || []);\n      } else {\n        console.error(\"Falha ao buscar posts do usu√°rio\");\n        setUserPosts([]);\n      }\n    } catch (error) {\n      console.error(\"Erro de conex√£o ao buscar posts:\", error);\n      setUserPosts([]);\n    }\n    try {\n      const resFollowing = await fetch(`http://localhost:5000/user/${userIdToFetch}/following`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (resFollowing.ok) {\n        const dataFollowing = await resFollowing.json();\n        setFollowingList(dataFollowing.following || []);\n      } else {\n        console.error(\"Falha ao buscar 'seguindo'\");\n        setFollowingList([]);\n      }\n    } catch (error) {\n      console.error(\"Erro de conex√£o ao buscar 'seguindo':\", error);\n      setFollowingList([]);\n    }\n    try {\n      const resFollowers = await fetch(`http://localhost:5000/user/${userIdToFetch}/followers`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (resFollowers.ok) {\n        const dataFollowers = await resFollowers.json();\n        setFollowersList(dataFollowers.followers || []);\n      } else {\n        console.error(\"Falha ao buscar seguidores\");\n        setFollowersList([]);\n      }\n    } catch (error) {\n      console.error(\"Erro de conex√£o ao buscar seguidores:\", error);\n      setFollowersList([]);\n    }\n  }, [userIdToFetch, token]);\n  useEffect(() => {\n    if (userIdToFetch) {\n      fetchProfileData();\n      fetchUserContent();\n    } else if (!profileIdFromParams && !loggedUser && !token) {\n      navigate('/login');\n    }\n  }, [userIdToFetch, profileIdFromParams, loggedUser, token, fetchProfileData, fetchUserContent, navigate]);\n  const handleFollowToggle = async () => {\n    if (!token || !profileData || isCurrentUserProfile) return;\n    const action = isFollowingProfile ? 'unfollow' : 'follow';\n    const endpoint = `http://localhost:5000/${action}/${profileData.id}`;\n    try {\n      const res = await fetch(endpoint, {\n        method: 'POST',\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (res.ok) {\n        setIsFollowingProfile(!isFollowingProfile);\n        fetchProfileData();\n      } else {\n        const errorData = await res.json();\n        alert(`Erro ao ${action === 'follow' ? 'seguir' : 'deixar de seguir'}: ${errorData.message || 'Tente novamente.'}`);\n      }\n    } catch (error) {\n      console.error(`Erro ao tentar ${action}:`, error);\n      alert(`Erro de conex√£o ao tentar ${action === 'follow' ? 'seguir' : 'deixar de seguir'}.`);\n    }\n  };\n  const handleSaveDescricao = async () => {\n    if (!token || !isCurrentUserProfile || !profileData) return;\n    try {\n      const res = await fetch(`http://localhost:5000/user/me/descricao`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          descricao: novaDescricao\n        })\n      });\n      if (res.ok) {\n        setProfileData(prev => ({\n          ...prev,\n          descricao: novaDescricao\n        }));\n        setEditingDescricao(false);\n        alert(\"Descri√ß√£o atualizada!\");\n      } else {\n        const errorData = await res.json();\n        alert(`Erro ao atualizar descri√ß√£o: ${errorData.message || \"Tente novamente.\"}`);\n      }\n    } catch (error) {\n      console.error(\"Erro ao salvar descri√ß√£o:\", error);\n      alert(\"Erro de conex√£o ao salvar descri√ß√£o.\");\n    }\n  };\n  const handleSaveLinks = async () => {\n    if (!token || !isCurrentUserProfile || !profileData) return;\n    try {\n      const res = await fetch(`http://localhost:5000/user/me/links`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          links_sociais: novosLinks\n        })\n      });\n      if (res.ok) {\n        setProfileData(prev => ({\n          ...prev,\n          links_sociais: novosLinks\n        }));\n        setEditingLinks(false);\n        alert(\"Links atualizados!\");\n      } else {\n        const errorData = await res.json();\n        alert(`Erro ao atualizar links: ${errorData.message || \"Tente novamente.\"}`);\n      }\n    } catch (error) {\n      console.error(\"Erro ao salvar links:\", error);\n      alert(\"Erro de conex√£o ao salvar links.\");\n    }\n  };\n  if (loadingProfile) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.loading,\n    children: \"Carregando perfil...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 30\n  }, this);\n  if (!profileData) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.loading,\n    children: [\"Perfil n\\xE3o encontrado ou n\\xE3o foi poss\\xEDvel carregar. \", /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/home\",\n      children: \"Voltar para Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 112\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 28\n  }, this);\n  const descricaoDoPerfil = profileData.descricao || (isCurrentUserProfile ? \"Conte um pouco sobre voc√™, seus gostos musicais, o que voc√™ procura no HarmoCrew...\" : \"Este m√∫sico ainda n√£o adicionou uma descri√ß√£o.\");\n  const linksSociaisString = profileData.links_sociais || \"\";\n  const linksArray = linksSociaisString.split(',').map(link => link.trim()).filter(link => link && link.length > 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.profilePageContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      className: styles.profileSidebar,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: styles.profileUserPhoto,\n        src: profileData.profile_pic_url || `https://i.pravatar.cc/150?u=${profileData.id}`,\n        alt: `Foto de ${profileData.nome}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: styles.profileUserName,\n        children: profileData.nome\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), profileData.email && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.profileUserEmail,\n        children: profileData.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 31\n      }, this), !isCurrentUserProfile && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `${styles.profileActionButton} ${isFollowingProfile ? styles.unfollowButton : styles.followButton}`,\n        onClick: handleFollowToggle,\n        children: isFollowingProfile ? 'Deixar de Seguir' : 'Seguir'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.profileSection,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.sectionHeader,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: styles.sectionTitle,\n            children: \"Descri\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), isCurrentUserProfile && !editingDescricao && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setEditingDescricao(true);\n              setNovaDescricao(profileData.descricao || \"\");\n            },\n            className: styles.editButtonInline,\n            title: \"Editar descri\\xE7\\xE3o\",\n            children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 178\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), editingDescricao && isCurrentUserProfile ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.editFormInline,\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: novaDescricao,\n            onChange: e => setNovaDescricao(e.target.value),\n            rows: \"5\",\n            placeholder: \"Sua descri\\xE7\\xE3o aqui...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.editActionsInline,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSaveDescricao,\n              className: styles.saveButtonInline,\n              children: \"Salvar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setEditingDescricao(false),\n              className: styles.cancelButtonInline,\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.profileDescriptionText,\n          children: descricaoDoPerfil\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.profileSection,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.sectionHeader,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: styles.sectionTitle,\n            children: \"Redes Sociais / Streaming\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), isCurrentUserProfile && !editingLinks && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setEditingLinks(true);\n              setNovosLinks(profileData.links_sociais || \"\");\n            },\n            className: styles.editButtonInline,\n            title: \"Editar links\",\n            children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 171\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), editingLinks && isCurrentUserProfile ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.editFormInline,\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"Ex: twitter.com/user, spotify.com/artist/id (um por linha ou separados por v\\xEDrgula)\",\n            value: novosLinks,\n            onChange: e => setNovosLinks(e.target.value),\n            rows: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.editActionsInline,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSaveLinks,\n              className: styles.saveButtonInline,\n              children: \"Salvar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setEditingLinks(false),\n              className: styles.cancelButtonInline,\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: styles.socialLinksList,\n          children: linksArray.length > 0 ? linksArray.map((link, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(LinkIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: !link.startsWith('http://') && !link.startsWith('https://') ? `https://${link}` : link,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: link.replace(/^https?:\\/\\//, '').replace(/\\/$/, '')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.noLinksText,\n            children: isCurrentUserProfile ? \"Adicione seus links.\" : \"Nenhum link adicionado.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: styles.profileContentArea,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.profileTabs,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `${styles.tabButton} ${activeTab === 'beats' ? styles.activeTabButton : ''}`,\n          onClick: () => setActiveTab('beats'),\n          children: [/*#__PURE__*/_jsxDEV(MusicIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), \" Beats / Projetos \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.tabCount,\n            children: [\"(\", userPosts.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 44\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `${styles.tabButton} ${activeTab === 'seguindo' ? styles.activeTabButton : ''}`,\n          onClick: () => setActiveTab('seguindo'),\n          children: [/*#__PURE__*/_jsxDEV(PeopleIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), \" Seguindo \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.tabCount,\n            children: [\"(\", followingList.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `${styles.tabButton} ${activeTab === 'seguidores' ? styles.activeTabButton : ''}`,\n          onClick: () => setActiveTab('seguidores'),\n          children: [/*#__PURE__*/_jsxDEV(PeopleIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 14\n          }, this), \" Seguidores \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.tabCount,\n            children: [\"(\", followersList.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 40\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.tabContent,\n        children: [activeTab === 'beats' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.postsGrid,\n          children: userPosts.length > 0 ? userPosts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.postCard,\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/post/${post.id}`,\n              className: styles.postCardLinkWrapper,\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: styles.postCardTitle,\n                children: post.titulo || \"Projeto sem t√≠tulo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: styles.postCardDescription,\n                children: post.texto ? post.texto.substring(0, 100) + (post.texto.length > 100 ? '...' : '') : \"Sem descri√ß√£o.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 19\n            }, this), post.audio_url && /*#__PURE__*/_jsxDEV(\"audio\", {\n              controls: true,\n              src: post.audio_url,\n              className: styles.postCardAudioPlayer,\n              children: \"Seu navegador n\\xE3o suporta o elemento de \\xE1udio.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: styles.postCardDate,\n              children: new Date(post.created_at || post.data_criacao || Date.now()).toLocaleDateString('pt-BR')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 19\n            }, this)]\n          }, post.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.emptyTabText,\n            children: \"Nenhum beat ou projeto publicado ainda.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this), activeTab === 'seguindo' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.userList,\n          children: followingList.length > 0 ? followingList.map(user => /*#__PURE__*/_jsxDEV(Link, {\n            to: `/usuario/${user.id}`,\n            className: styles.userListItem,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: user.profile_pic_url || `https://i.pravatar.cc/40?u=${user.id}`,\n              alt: user.nome\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: user.nome\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 19\n            }, this)]\n          }, user.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.emptyTabText,\n            children: isCurrentUserProfile ? \"Voc√™ n√£o segue ningu√©m ainda.\" : \"Este usu√°rio n√£o segue ningu√©m.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this), activeTab === 'seguidores' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.userList,\n          children: followersList.length > 0 ? followersList.map(user => /*#__PURE__*/_jsxDEV(Link, {\n            to: `/usuario/${user.id}`,\n            className: styles.userListItem,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: user.profile_pic_url || `https://i.pravatar.cc/40?u=${user.id}`,\n              alt: user.nome\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: user.nome\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 19\n            }, this)]\n          }, user.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.emptyTabText,\n            children: isCurrentUserProfile ? \"Voc√™ n√£o tem seguidores ainda.\" : \"Nenhum seguidor ainda.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n}\n_s(ProfilePage, \"WkyzUxOMZhJQz5fZvm3QChi/IDo=\", false, function () {\n  return [useAuth, useParams, useNavigate];\n});\n_c5 = ProfilePage;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"EditIcon\");\n$RefreshReg$(_c2, \"LinkIcon\");\n$RefreshReg$(_c3, \"MusicIcon\");\n$RefreshReg$(_c4, \"PeopleIcon\");\n$RefreshReg$(_c5, \"ProfilePage\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","styles","useAuth","useParams","useNavigate","Link","jsxDEV","_jsxDEV","EditIcon","style","cursor","marginLeft","fontSize","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","LinkIcon","marginRight","color","_c2","MusicIcon","_c3","PeopleIcon","_c4","ProfilePage","_s","user","loggedUser","token","logout","id","profileIdFromParams","navigate","profileData","setProfileData","userPosts","setUserPosts","followingList","setFollowingList","followersList","setFollowersList","activeTab","setActiveTab","isCurrentUserProfile","setIsCurrentUserProfile","isFollowingProfile","setIsFollowingProfile","loadingProfile","setLoadingProfile","editingDescricao","setEditingDescricao","novaDescricao","setNovaDescricao","editingLinks","setEditingLinks","novosLinks","setNovosLinks","userIdToFetch","parseInt","fetchProfileData","res","fetch","headers","Authorization","ok","status","Error","data","json","descricao","links_sociais","is_following","error","console","message","fetchUserContent","resPosts","dataPosts","posts","resFollowing","dataFollowing","following","resFollowers","dataFollowers","followers","handleFollowToggle","action","endpoint","method","errorData","alert","handleSaveDescricao","body","JSON","stringify","prev","handleSaveLinks","className","loading","to","descricaoDoPerfil","linksSociaisString","linksArray","split","map","link","trim","filter","length","profilePageContainer","profileSidebar","profileUserPhoto","src","profile_pic_url","alt","nome","profileUserName","email","profileUserEmail","profileActionButton","unfollowButton","followButton","onClick","profileSection","sectionHeader","sectionTitle","editButtonInline","title","editFormInline","value","onChange","e","target","rows","placeholder","editActionsInline","saveButtonInline","cancelButtonInline","profileDescriptionText","socialLinksList","index","href","startsWith","rel","replace","noLinksText","profileContentArea","profileTabs","tabButton","activeTabButton","tabCount","tabContent","postsGrid","post","postCard","postCardLinkWrapper","postCardTitle","titulo","postCardDescription","texto","substring","audio_url","controls","postCardAudioPlayer","postCardDate","Date","created_at","data_criacao","now","toLocaleDateString","emptyTabText","userList","userListItem","_c5","$RefreshReg$"],"sources":["/home/d-_-b/harmoCrew/frontend/src/pages/ProfilePage.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\nimport styles from '../styles/ProfilePage.module.css';\nimport { useAuth } from '../context/AuthContext';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport \"../styles/global.css\";\nimport \"../styles/colors.css\";\n\nconst EditIcon = () => <span style={{ cursor: 'pointer', marginLeft: '8px', fontSize: '0.9em' }}>‚úèÔ∏è</span>;\nconst LinkIcon = () => <span style={{ marginRight: '8px', color: 'var(--accent-blue)' }}>üîó</span>;\nconst MusicIcon = () => <span style={{ marginRight: '8px' }}>üéµ</span>;\nconst PeopleIcon = () => <span style={{ marginRight: '8px' }}>üë•</span>;\n\nexport default function ProfilePage() {\n  const { user: loggedUser, token, logout } = useAuth();\n  const { id: profileIdFromParams } = useParams();\n  const navigate = useNavigate();\n\n  const [profileData, setProfileData] = useState(null);\n  const [userPosts, setUserPosts] = useState([]);\n  const [followingList, setFollowingList] = useState([]);\n  const [followersList, setFollowersList] = useState([]);\n  \n  const [activeTab, setActiveTab] = useState('beats');\n  const [isCurrentUserProfile, setIsCurrentUserProfile] = useState(false);\n  const [isFollowingProfile, setIsFollowingProfile] = useState(false);\n  const [loadingProfile, setLoadingProfile] = useState(true);\n\n  const [editingDescricao, setEditingDescricao] = useState(false);\n  const [novaDescricao, setNovaDescricao] = useState(\"\");\n  const [editingLinks, setEditingLinks] = useState(false);\n  const [novosLinks, setNovosLinks] = useState(\"\");\n\n  const userIdToFetch = profileIdFromParams ? parseInt(profileIdFromParams) : loggedUser?.id;\n\n  const fetchProfileData = useCallback(async () => {\n    if (!userIdToFetch || !token) {\n      if (!loggedUser && !profileIdFromParams) {\n        navigate('/login');\n      }\n      setLoadingProfile(false);\n      return;\n    }\n    setLoadingProfile(true);\n    try {\n      const res = await fetch(`http://localhost:5000/user/${userIdToFetch}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!res.ok) {\n        if (res.status === 401) { logout(); navigate('/login'); }\n        throw new Error(`Falha ao buscar dados do perfil (status ${res.status}).`);\n      }\n      const data = await res.json();\n      if (data.user) {\n        setProfileData(data.user);\n        setNovaDescricao(data.user.descricao || \"\");\n        setNovosLinks(data.user.links_sociais || \"\");\n        setIsCurrentUserProfile(loggedUser?.id === data.user.id);\n        setIsFollowingProfile(data.user.is_following || false);\n      } else {\n        throw new Error('Usu√°rio n√£o encontrado nos dados recebidos.');\n      }\n    } catch (error) {\n      console.error(\"Erro ao buscar dados do perfil:\", error.message);\n      setProfileData(null);\n    } finally {\n      setLoadingProfile(false);\n    }\n  }, [userIdToFetch, token, loggedUser?.id, logout, navigate, profileIdFromParams]);\n\n  const fetchUserContent = useCallback(async () => {\n    if (!userIdToFetch || !token) return;\n\n    try {\n      const resPosts = await fetch(`http://localhost:5000/user/${userIdToFetch}/posts`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (resPosts.ok) {\n        const dataPosts = await resPosts.json();\n        setUserPosts(dataPosts.posts || []);\n      } else { console.error(\"Falha ao buscar posts do usu√°rio\"); setUserPosts([]); }\n    } catch (error) { console.error(\"Erro de conex√£o ao buscar posts:\", error); setUserPosts([]);}\n\n    try {\n      const resFollowing = await fetch(`http://localhost:5000/user/${userIdToFetch}/following`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (resFollowing.ok) {\n        const dataFollowing = await resFollowing.json();\n        setFollowingList(dataFollowing.following || []);\n      } else { console.error(\"Falha ao buscar 'seguindo'\"); setFollowingList([]);}\n    } catch (error) { console.error(\"Erro de conex√£o ao buscar 'seguindo':\", error); setFollowingList([]);}\n\n    try {\n      const resFollowers = await fetch(`http://localhost:5000/user/${userIdToFetch}/followers`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (resFollowers.ok) {\n        const dataFollowers = await resFollowers.json();\n        setFollowersList(dataFollowers.followers || []);\n      } else { console.error(\"Falha ao buscar seguidores\"); setFollowersList([]);}\n    } catch (error) { console.error(\"Erro de conex√£o ao buscar seguidores:\", error); setFollowersList([]);}\n  }, [userIdToFetch, token]);\n\n  useEffect(() => {\n    if (userIdToFetch) {\n        fetchProfileData();\n        fetchUserContent();\n    } else if (!profileIdFromParams && !loggedUser && !token) { \n        navigate('/login');\n    }\n  }, [userIdToFetch, profileIdFromParams, loggedUser, token, fetchProfileData, fetchUserContent, navigate]);\n\n\n  const handleFollowToggle = async () => {\n    if (!token || !profileData || isCurrentUserProfile) return;\n    const action = isFollowingProfile ? 'unfollow' : 'follow';\n    const endpoint = `http://localhost:5000/${action}/${profileData.id}`;\n\n    try {\n      const res = await fetch(endpoint, {\n        method: 'POST',\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (res.ok) {\n        setIsFollowingProfile(!isFollowingProfile);\n        fetchProfileData(); \n      } else {\n        const errorData = await res.json();\n        alert(`Erro ao ${action === 'follow' ? 'seguir' : 'deixar de seguir'}: ${errorData.message || 'Tente novamente.'}`);\n      }\n    } catch (error) {\n      console.error(`Erro ao tentar ${action}:`, error);\n      alert(`Erro de conex√£o ao tentar ${action === 'follow' ? 'seguir' : 'deixar de seguir'}.`);\n    }\n  };\n  \n  const handleSaveDescricao = async () => {\n    if (!token || !isCurrentUserProfile || !profileData) return;\n    try {\n        const res = await fetch(`http://localhost:5000/user/me/descricao`, {\n            method: 'PUT',\n            headers: { \n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}` \n            },\n            body: JSON.stringify({ descricao: novaDescricao }),\n        });\n        if (res.ok) {\n            setProfileData(prev => ({ ...prev, descricao: novaDescricao }));\n            setEditingDescricao(false);\n            alert(\"Descri√ß√£o atualizada!\");\n        } else {\n            const errorData = await res.json();\n            alert(`Erro ao atualizar descri√ß√£o: ${errorData.message || \"Tente novamente.\"}`);\n        }\n    } catch (error) {\n        console.error(\"Erro ao salvar descri√ß√£o:\", error);\n        alert(\"Erro de conex√£o ao salvar descri√ß√£o.\");\n    }\n  };\n\n  const handleSaveLinks = async () => {\n    if (!token || !isCurrentUserProfile || !profileData) return;\n    try {\n        const res = await fetch(`http://localhost:5000/user/me/links`, {\n            method: 'PUT',\n            headers: { \n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}` \n            },\n            body: JSON.stringify({ links_sociais: novosLinks }),\n        });\n        if (res.ok) {\n            setProfileData(prev => ({ ...prev, links_sociais: novosLinks }));\n            setEditingLinks(false);\n            alert(\"Links atualizados!\");\n        } else {\n            const errorData = await res.json();\n            alert(`Erro ao atualizar links: ${errorData.message || \"Tente novamente.\"}`);\n        }\n    } catch (error) {\n        console.error(\"Erro ao salvar links:\", error);\n        alert(\"Erro de conex√£o ao salvar links.\");\n    }\n  };\n\n  if (loadingProfile) return <div className={styles.loading}>Carregando perfil...</div>;\n  if (!profileData) return <div className={styles.loading}>Perfil n√£o encontrado ou n√£o foi poss√≠vel carregar. <Link to=\"/home\">Voltar para Home</Link></div>;\n\n  const descricaoDoPerfil = profileData.descricao || (isCurrentUserProfile ? \"Conte um pouco sobre voc√™, seus gostos musicais, o que voc√™ procura no HarmoCrew...\" : \"Este m√∫sico ainda n√£o adicionou uma descri√ß√£o.\");\n  const linksSociaisString = profileData.links_sociais || \"\";\n  const linksArray = linksSociaisString.split(',').map(link => link.trim()).filter(link => link && link.length > 0);\n\n  return (\n    <div className={styles.profilePageContainer}>\n      <aside className={styles.profileSidebar}>\n        <img\n          className={styles.profileUserPhoto}\n          src={profileData.profile_pic_url || `https://i.pravatar.cc/150?u=${profileData.id}`}\n          alt={`Foto de ${profileData.nome}`}\n        />\n        <h2 className={styles.profileUserName}>{profileData.nome}</h2>\n        {profileData.email && <p className={styles.profileUserEmail}>{profileData.email}</p>}\n\n        {!isCurrentUserProfile && (\n          <button\n            className={`${styles.profileActionButton} ${isFollowingProfile ? styles.unfollowButton : styles.followButton}`}\n            onClick={handleFollowToggle}\n          >\n            {isFollowingProfile ? 'Deixar de Seguir' : 'Seguir'}\n          </button>\n        )}\n        \n        <div className={styles.profileSection}>\n          <div className={styles.sectionHeader}>\n            <h3 className={styles.sectionTitle}>Descri√ß√£o</h3>\n            {isCurrentUserProfile && !editingDescricao && (\n              <button onClick={() => { setEditingDescricao(true); setNovaDescricao(profileData.descricao || \"\"); }} className={styles.editButtonInline} title=\"Editar descri√ß√£o\"><EditIcon /></button>\n            )}\n          </div>\n          {editingDescricao && isCurrentUserProfile ? (\n            <div className={styles.editFormInline}>\n              <textarea \n                value={novaDescricao} \n                onChange={(e) => setNovaDescricao(e.target.value)}\n                rows=\"5\"\n                placeholder=\"Sua descri√ß√£o aqui...\"\n              />\n              <div className={styles.editActionsInline}>\n                <button onClick={handleSaveDescricao} className={styles.saveButtonInline}>Salvar</button>\n                <button onClick={() => setEditingDescricao(false)} className={styles.cancelButtonInline}>Cancelar</button>\n              </div>\n            </div>\n          ) : (\n            <p className={styles.profileDescriptionText}>{descricaoDoPerfil}</p>\n          )}\n        </div>\n\n        <div className={styles.profileSection}>\n          <div className={styles.sectionHeader}>\n            <h3 className={styles.sectionTitle}>Redes Sociais / Streaming</h3>\n            {isCurrentUserProfile && !editingLinks && (\n              <button onClick={() => { setEditingLinks(true); setNovosLinks(profileData.links_sociais || \"\"); }} className={styles.editButtonInline} title=\"Editar links\"><EditIcon /></button>\n            )}\n          </div>\n          {editingLinks && isCurrentUserProfile ? (\n            <div className={styles.editFormInline}>\n              <textarea\n                placeholder=\"Ex: twitter.com/user, spotify.com/artist/id (um por linha ou separados por v√≠rgula)\"\n                value={novosLinks} \n                onChange={(e) => setNovosLinks(e.target.value)} \n                rows=\"4\"\n              />\n              <div className={styles.editActionsInline}>\n                <button onClick={handleSaveLinks} className={styles.saveButtonInline}>Salvar</button>\n                <button onClick={() => setEditingLinks(false)} className={styles.cancelButtonInline}>Cancelar</button>\n              </div>\n            </div>\n          ) : (\n            <ul className={styles.socialLinksList}>\n              {linksArray.length > 0 ? linksArray.map((link, index) => (\n                <li key={index}>\n                  <LinkIcon />\n                  <a href={!link.startsWith('http://') && !link.startsWith('https://') ? `https://${link}` : link} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {link.replace(/^https?:\\/\\//, '').replace(/\\/$/, '')}\n                  </a>\n                </li>\n              )) : <p className={styles.noLinksText}>{isCurrentUserProfile ? \"Adicione seus links.\" : \"Nenhum link adicionado.\"}</p>}\n            </ul>\n          )}\n        </div>\n      </aside>\n\n      <main className={styles.profileContentArea}>\n        <div className={styles.profileTabs}>\n          <button\n            className={`${styles.tabButton} ${activeTab === 'beats' ? styles.activeTabButton : ''}`}\n            onClick={() => setActiveTab('beats')}\n          >\n            <MusicIcon /> Beats / Projetos <span className={styles.tabCount}>({userPosts.length})</span>\n          </button>\n          <button\n            className={`${styles.tabButton} ${activeTab === 'seguindo' ? styles.activeTabButton : ''}`}\n            onClick={() => setActiveTab('seguindo')}\n          >\n            <PeopleIcon /> Seguindo <span className={styles.tabCount}>({followingList.length})</span>\n          </button>\n          <button\n            className={`${styles.tabButton} ${activeTab === 'seguidores' ? styles.activeTabButton : ''}`}\n            onClick={() => setActiveTab('seguidores')}\n          >\n             <PeopleIcon /> Seguidores <span className={styles.tabCount}>({followersList.length})</span>\n          </button>\n        </div>\n\n        <div className={styles.tabContent}>\n          {activeTab === 'beats' && (\n            <div className={styles.postsGrid}>\n              {userPosts.length > 0 ? userPosts.map(post => (\n                <div key={post.id} className={styles.postCard}>\n                  <Link to={`/post/${post.id}`} className={styles.postCardLinkWrapper}>\n                    <h5 className={styles.postCardTitle}>{post.titulo || \"Projeto sem t√≠tulo\"}</h5>\n                    <p className={styles.postCardDescription}>{post.texto ? (post.texto.substring(0, 100) + (post.texto.length > 100 ? '...' : '')) : \"Sem descri√ß√£o.\"}</p>\n                  </Link>\n                  {post.audio_url && (\n                    <audio controls src={post.audio_url} className={styles.postCardAudioPlayer}>\n                      Seu navegador n√£o suporta o elemento de √°udio.\n                    </audio>\n                  )}\n                  <small className={styles.postCardDate}>{new Date(post.created_at || post.data_criacao || Date.now()).toLocaleDateString('pt-BR')}</small>\n                </div>\n              )) : <p className={styles.emptyTabText}>Nenhum beat ou projeto publicado ainda.</p>}\n            </div>\n          )}\n\n          {activeTab === 'seguindo' && (\n            <div className={styles.userList}>\n              {followingList.length > 0 ? followingList.map(user => (\n                <Link to={`/usuario/${user.id}`} key={user.id} className={styles.userListItem}>\n                  <img src={user.profile_pic_url || `https://i.pravatar.cc/40?u=${user.id}`} alt={user.nome} />\n                  <span>{user.nome}</span>\n                </Link>\n              )) : <p className={styles.emptyTabText}>{isCurrentUserProfile ? \"Voc√™ n√£o segue ningu√©m ainda.\" : \"Este usu√°rio n√£o segue ningu√©m.\"}</p>}\n            </div>\n          )}\n\n          {activeTab === 'seguidores' && (\n            <div className={styles.userList}>\n              {followersList.length > 0 ? followersList.map(user => (\n                <Link to={`/usuario/${user.id}`} key={user.id} className={styles.userListItem}>\n                  <img src={user.profile_pic_url || `https://i.pravatar.cc/40?u=${user.id}`} alt={user.nome} />\n                  <span>{user.nome}</span>\n                </Link>\n              )) : <p className={styles.emptyTabText}>{isCurrentUserProfile ? \"Voc√™ n√£o tem seguidores ainda.\" : \"Nenhum seguidor ainda.\"}</p>}\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}